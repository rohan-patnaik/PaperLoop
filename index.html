<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ilya Drive Reading List</title>
  </head>
  <body>
    <div id="app">
      <canvas id="scene-canvas" tabindex="0" aria-label="3D driving scene"></canvas>
      <div id="ui" aria-live="polite">
        <div id="hud" class="panel hud-card">
          <div class="hud-top">
            <div class="hud-label">Stop</div>
            <div id="hud-stop" class="hud-stop">STOP -- / 30</div>
          </div>
          <div id="hud-title" class="hud-title"></div>
          <div class="hud-progress">
            <div id="hud-progress-bar" class="hud-progress-bar"></div>
          </div>
          <div id="hud-warning" class="hud-warning hidden"></div>
        </div>

        <div id="controls" class="panel controls-card">
          <div class="controls-title">Controls</div>
          <div class="controls-row">
            <span class="keycap">W</span><span class="keycap">A</span><span class="keycap">S</span><span class="keycap">D</span>
            <span class="controls-text">Drive</span>
          </div>
          <div class="controls-row">
            <span class="keycap">Up</span><span class="keycap">Left</span><span class="keycap">Down</span><span class="keycap">Right</span>
            <span class="controls-text">Steer</span>
          </div>
          <div class="controls-row">
            <span class="keycap">Space</span>
            <span class="controls-text">Brake</span>
          </div>
          <div class="controls-row">
            <span class="keycap">Shift</span>
            <span class="controls-text">Boost</span>
          </div>
          <div class="controls-row">
            <span class="keycap">E</span>
            <span class="controls-text">Interact</span>
          </div>
          <div class="controls-row">
            <span class="keycap">Esc</span>
            <span class="controls-text">Reset</span>
          </div>
        </div>

        <div id="interaction" class="interaction hidden">
          <div id="interaction-title" class="interaction-title"></div>
          <div class="interaction-hint">Press <span class="keycap">E</span> to open</div>
        </div>
        <div id="viewer-close-hint" class="interaction viewer-close-hint hidden">
          <div class="interaction-hint">Press <span class="keycap">E</span> to close</div>
        </div>

        <div id="focus-hint" class="focus-hint">Click the scene to focus controls</div>

        <div id="toasts" class="toasts"></div>

        <div id="viewer" class="viewer hidden" role="dialog" aria-modal="true" aria-hidden="true">
          <div class="viewer-header">
            <div id="viewer-title" class="viewer-title"></div>
            <div class="viewer-actions">
              <button id="viewer-newtab" class="btn" type="button">Open in new tab</button>
              <button id="viewer-close" class="btn btn-close" type="button" aria-label="Close">X</button>
            </div>
          </div>
          <div class="viewer-body">
            <div id="viewer-loading" class="viewer-loading hidden">
              <div class="spinner"></div>
              <div class="viewer-loading-text">Loading preview...</div>
            </div>
            <div id="viewer-fallback" class="viewer-fallback hidden">
              This site blocks embedded viewing. Use "Open in new tab".
            </div>
            <iframe
              id="viewer-iframe"
              title="Paper viewer"
              referrerpolicy="no-referrer"
              loading="lazy"
            ></iframe>
          </div>
        </div>

        <div id="diagnostics" class="panel diagnostics hidden">
          <div class="diagnostics-title">Diagnostics</div>
          <div class="diagnostics-row"><span>Loaded</span><span id="diag-loaded"></span></div>
          <div class="diagnostics-row"><span>Validation</span><span id="diag-validation"></span></div>
          <div class="diagnostics-row"><span>Nearest Stop</span><span id="diag-stop"></span></div>
          <div class="diagnostics-row"><span>Speed</span><span id="diag-speed"></span></div>
        </div>
      </div>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
